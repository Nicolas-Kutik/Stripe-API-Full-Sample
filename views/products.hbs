<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
</head>
<body>
  <div class="container mt-5">
    <div class="text-center mb-4">
      <h1>Products</h1>
      <p class="lead">Browse our demo products. Add items to your cart or buy now!</p>
    </div>
    <div class="row">
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm h-100">
          <img src="/images/stock-shirt.jpg" class="card-img-top" alt="Demo T-Shirt">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">T-Shirt</h5>
            <p class="card-text">High quality cotton t-shirt. Perfect for testing Stripe payments.</p>
            <p class="fw-bold mb-3">$19.99</p>
            <div class="d-flex gap-2 mt-auto">
              <button class="btn btn-outline-primary add-to-cart-btn" data-item="tshirt">Add to Cart</button>
              <button class="btn btn-primary buy-now-btn" data-item="tshirt"><i class="fa-solid fa-cart-shopping"></i> Buy Now</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm h-100">
          <img src="/images/stock-mug.jpg" class="card-img-top" alt="Demo Mug">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Mug</h5>
            <p class="card-text">Ceramic mug for your favorite beverage. Try Stripe checkout with this item!</p>
            <p class="fw-bold mb-3">$9.99</p>
            <div class="d-flex gap-2 mt-auto">
              <button class="btn btn-outline-primary add-to-cart-btn" data-item="mug">Add to Cart</button>
              <button class="btn btn-primary buy-now-btn" data-item="mug"><i class="fa-solid fa-cart-shopping"></i> Buy Now</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm h-100">
          <img src="/images/stock-sticker.jpg" class="card-img-top" alt="Demo Sticker Pack">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Sticker Pack</h5>
            <p class="card-text">Fun stickers for your laptop or notebook. Great for Stripe payment testing.</p>
            <p class="fw-bold mb-3">$4.99</p>
            <div class="d-flex gap-2 mt-auto">
              <button class="btn btn-outline-primary add-to-cart-btn" data-item="stickers">Add to Cart</button>
              <button class="btn btn-primary buy-now-btn" data-item="stickers"><i class="fa-solid fa-cart-shopping"></i> Buy Now</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm h-100">
          <img src="/images/stock-notebook.jpg" class="card-img-top" alt="Notebook">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Notebook</h5>
            <p class="card-text">A5 lined notebook for your notes and sketches.</p>
            <p class="fw-bold mb-3">$7.99</p>
            <div class="d-flex gap-2 mt-auto">
              <button class="btn btn-outline-primary add-to-cart-btn" data-item="notebook">Add to Cart</button>
              <button class="btn btn-primary buy-now-btn" data-item="notebook"><i class="fa-solid fa-cart-shopping"></i> Buy Now</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm h-100">
          <img src="/images/stock-pen.jpg" class="card-img-top" alt="Pen">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Pen</h5>
            <p class="card-text">Smooth writing pen for everyday use.</p>
            <p class="fw-bold mb-3">$2.99</p>
            <div class="d-flex gap-2 mt-auto">
              <button class="btn btn-outline-primary add-to-cart-btn" data-item="pen">Add to Cart</button>
              <button class="btn btn-primary buy-now-btn" data-item="pen"><i class="fa-solid fa-cart-shopping"></i> Buy Now</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm h-100">
          <img src="/images/stock-hat.jpg" class="card-img-top" alt="Baseball Cap">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Baseball Cap</h5>
            <p class="card-text">Classic cotton cap for sunny days.</p>
            <p class="fw-bold mb-3">$14.99</p>
            <div class="d-flex gap-2 mt-auto">
              <button class="btn btn-outline-primary add-to-cart-btn" data-item="hat">Add to Cart</button>
              <button class="btn btn-primary buy-now-btn" data-item="hat"><i class="fa-solid fa-cart-shopping"></i> Buy Now</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm h-100">
          <img src="/images/stock-bottle.jpg" class="card-img-top" alt="Water Bottle">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Water Bottle</h5>
            <p class="card-text">Reusable water bottle for hydration on the go.</p>
            <p class="fw-bold mb-3">$12.99</p>
            <div class="d-flex gap-2 mt-auto">
              <button class="btn btn-outline-primary add-to-cart-btn" data-item="bottle">Add to Cart</button>
              <button class="btn btn-primary buy-now-btn" data-item="bottle"><i class="fa-solid fa-cart-shopping"></i> Buy Now</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm h-100">
          <img src="/images/stock-bag.jpg" class="card-img-top" alt="Tote Bag">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Tote Bag</h5>
            <p class="card-text">Eco-friendly tote bag for shopping or daily use.</p>
            <p class="fw-bold mb-3">$8.99</p>
            <div class="d-flex gap-2 mt-auto">
              <button class="btn btn-outline-primary add-to-cart-btn" data-item="bag">Add to Cart</button>
              <button class="btn btn-primary buy-now-btn" data-item="bag"><i class="fa-solid fa-cart-shopping"></i> Buy Now</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm h-100">
          <img src="/images/stock-hoodie.jpg" class="card-img-top" alt="Hoodie">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Hoodie</h5>
            <p class="card-text">Warm and comfy hoodie for chilly days.</p>
            <p class="fw-bold mb-3">$29.99</p>
            <div class="d-flex gap-2 mt-auto">
              <button class="btn btn-outline-primary add-to-cart-btn" data-item="hoodie">Add to Cart</button>
              <button class="btn btn-primary buy-now-btn" data-item="hoodie"><i class="fa-solid fa-cart-shopping"></i> Buy Now</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm h-100">
          <img src="/images/stock-mousepad.jpg" class="card-img-top" alt="Mouse Pad">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Mouse Pad</h5>
            <p class="card-text">Smooth surface mouse pad for your desk.</p>
            <p class="fw-bold mb-3">$5.99</p>
            <div class="d-flex gap-2 mt-auto">
              <button class="btn btn-outline-primary add-to-cart-btn" data-item="mousepad">Add to Cart</button>
              <button class="btn btn-primary buy-now-btn" data-item="mousepad"><i class="fa-solid fa-cart-shopping"></i> Buy Now</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="text-center mt-4">
      <a href="/cart" class="btn btn-success btn-lg" id="go-to-cart">
        <i class="fa-solid fa-cart-shopping"></i> Go to Cart & Checkout
      </a>
    </div>
  </div>
  <script>
    document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const item = this.getAttribute('data-item');
        let cart = JSON.parse(localStorage.getItem('cart') || '{}');
        cart[item] = (cart[item] || 0) + 1;
        localStorage.setItem('cart', JSON.stringify(cart));
        this.textContent = "Added!";
        this.classList.remove('btn-outline-primary');
        this.classList.add('btn-success');
        setTimeout(() => {
          this.textContent = "Add to Cart";
          this.classList.remove('btn-success');
          this.classList.add('btn-outline-primary');
        }, 1000);
      });
    });

    document.querySelectorAll('.buy-now-btn').forEach(button => {
    button.addEventListener('click', () => {
      const item = button.getAttribute('data-item');
      window.location.href = `/create-checkout-session?item=${item}`;
    });
  });
  </script>
</body>
</html>